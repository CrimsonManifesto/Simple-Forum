<div class="container-xxl">
  <div class="row">
    <div class="col-12 col-lg-9 px-0 ">
      <div *ngFor="let category of categoriesWithThreads" class="category-container mt-0 mb-0">
        <div class="category-header-block">
          <h3 class="category-title px-2 py-2 mt-3 mb-0">{{ category.name }}</h3>
        </div>
        <ul class="node-block mb-0 mt-0 px-0 py-0 align-items-center">
          <div *ngFor="let thread of category.threads" class=" ">
            <div class="thread-item row p-0 m-0 align-items-center py-3">

              <div class="node-icon col-1 align-self-center">
                <svg id="comments" viewBox="0 0 576 512" width="40px" height="40px">
                  <path
                    d="M532 386.2c27.5-27.1 44-61.1 44-98.2 0-80-76.5-146.1-176.2-157.9C368.3 72.5 294.3 32 208 32 93.1 32 0 103.6 0 192c0 37 16.5 71 44 98.2-15.3 30.7-37.3 54.5-37.7 54.9-6.3 6.7-8.1 16.5-4.4 25 3.6 8.5 12 14 21.2 14 53.5 0 96.7-20.2 125.2-38.8 9.2 2.1 18.7 3.7 28.4 4.9C208.1 407.6 281.8 448 368 448c20.8 0 40.8-2.4 59.8-6.8C456.3 459.7 499.4 480 553 480c9.2 0 17.5-5.5 21.2-14 3.6-8.5 1.9-18.3-4.4-25-.4-.3-22.5-24.1-37.8-54.8zm-392.8-92.3L122.1 305c-14.1 9.1-28.5 16.3-43.1 21.4 2.7-4.7 5.4-9.7 8-14.8l15.5-31.1L77.7 256C64.2 242.6 48 220.7 48 192c0-60.7 73.3-112 160-112s160 51.3 160 112-73.3 112-160 112c-16.5 0-33-1.9-49-5.6l-19.8-4.5zM498.3 352l-24.7 24.4 15.5 31.1c2.6 5.1 5.3 10.1 8 14.8-14.6-5.1-29-12.3-43.1-21.4l-17.1-11.1-19.9 4.6c-16 3.7-32.5 5.6-49 5.6-54 0-102.2-20.1-131.3-49.7C338 339.5 416 272.9 416 192c0-3.4-.4-6.7-.7-10C479.7 196.5 528 238.8 528 288c0 28.7-16.2 50.6-29.7 64z"
                    fill="#ffba8c"></path>
                </svg>
              </div>
              <div class="node-main col-6 align-self-center m-0 p-0">
                <a [routerLink]="['/thread', encodeTitle(thread.title)]" class="thread-title">
                  {{ thread.title }}
                </a>
              </div>
              <div class="node-sub stat-node col-3 p-0 m-0 row align-self-center">
                <div class="stat-col col p-0 m-0">
                  <p class="grey-text stat p-0 m-0 text-center">Threads</p>
                  <p class="thread-count p-0 m-0 text-center">{{ thread.postNumber }}</p>
                </div>
                <div class="stat-col col p-0 m-0">
                  <p class="grey-text stat p-0 m-0 text-center">Messages</p>
                  <p class="thread-count p-0 m-0 text-center">{{ thread.messageNumber }}</p>
                </div>
              </div>
              <div class="node-sub preview-node col-3 row p-0 m-0 justify-content-end">
                <div class="col-2 align-self-center p-0 d-flex justify-content-end">
                  <!--Avatar-->
                  <div *ngIf="!thread.latestPost?.latestComment?.userId" class="no-post">
                    <img src="{{ thread.latestPost?.userId?.avatar }}" alt="avt-img" class="avatar">
                  </div>
                  <div *ngIf="thread.latestPost?.latestComment?.userId" class="post-item">
                    <img src="{{ thread.latestPost.latestComment.userId?.avatar }}" alt="avt-img" class="avatar">
                  </div>
                </div>
                <div class="col-10 align-self-center px-0">

                  <p class="thread-content p-0 m-0">{{ thread.latestPost?.content }}</p>
                  <div class="d-flex justify-content-start gap-1">
                    <p *ngIf="thread.latestPost.latestComment" class="grey-text p-0 m-0">
                      {{formatDate(thread.latestPost.latestComment.createdAt)}} · </p>
                    <p *ngIf="thread.latestPost.latestComment" class="username p-0 m-0">
                      {{thread.latestPost?.latestComment?.userId?.username}}</p>
                  </div>
                  <div class="d-flex justify-content-start gap-1">
                    <p *ngIf="!thread.latestPost.latestComment" class="grey-text p-0 m-0">
                      {{formatDate(thread.latestPost.createdAt)}} ·</p>
                    <p *ngIf="!thread.latestPost.latestComment" class="username p-0 m-0">
                      {{thread.latestPost?.userId?.username}} </p>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </ul>
      </div>
    </div>
    <div class="col-3 right-panel d-none d-lg-block">
      <div class="bg-white mt-1">
        <div class="mt-3">
          <h2>Trending conents</h2>
        </div>
        <div>
          contents
        </div>
      </div>
      <div class="bg-white mt-1">
        <div class="mt-3">
          <h2>Latest posts</h2>
        </div>
        <div>
          <p>posts</p>
        </div>
      </div>
    </div>
  </div>
</div>